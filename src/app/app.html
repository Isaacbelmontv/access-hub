@if (authService.isInitialized()) {
<div class="flex flex-column min-h-screen surface-ground text-900">
  @if (hasLogin()) {
  <header
    class="flex align-items-center justify-content-between px-4 surface-card border-bottom-1 surface-border top-0 z-5 h-4rem"
  >
    <div class="flex align-items-center gap-3 min-w-0">
      <i class="pi pi-users text-xl"></i>
      <span class="text-xl font-semibold white-space-nowrap overflow-hidden text-overflow-ellipsis">
        {{ 'HEADER.DASHBOARD' | translate }}
      </span>
    </div>

    <div class="flex align-items-center gap-3 min-w-0">
      <span class="hidden md:inline text-color-secondary font-medium truncate max-w-10rem mr-6">
        {{ authService.user()?.email }}
      </span>

      <p-badge severity="info" [value]="authService.user()?.role || ''" />

      <select
        [ngModel]="currentLang"
        (ngModelChange)="switchLang($event)"
        class="p-2 border-round border-1 surface-border text-sm hidden md:inline"
      >
        @for (l of langs; track l.code) {
        <option [ngValue]="l.code">{{ l.flag }} {{ l.label }}</option>
        }
      </select>

      <div class="flex justify-content-center">
        <p-menu #menu [model]="items" [popup]="true"></p-menu>
        <p-button icon="pi pi-user" [rounded]="true" (click)="menu.toggle($event)" />
      </div>
    </div>
  </header>
  }

  <main class="flex-1 p-4">
    <div class="mx-auto w-full max-w-screen-xl">
      <router-outlet />
    </div>
  </main>
</div>
} @else {
<app-splashscreen />
}
